{% extends 'base.html' %}

{% block title %}Actualizar Personal{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow p-4">
        <h2 class="mb-4 text-center text-primary">Actualizar Personal: {{ personal.nombre }} {{ personal.apellido }}</h2>
        <form method="post" action="{% url 'realizar_actualizacion_personal' personal.pk %}" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="id_nombre" class="form-label">Nombre:</label>
                    <input type="text" class="form-control" id="id_nombre" name="nombre" value="{{ personal.nombre }}" required>
                </div>
                <div class="col-md-6">
                    <label for="id_apellido" class="form-label">Apellido:</label>
                    <input type="text" class="form-control" id="id_apellido" name="apellido" value="{{ personal.apellido }}" required>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="id_cargo" class="form-label">Cargo:</label>
                    <input type="text" class="form-control" id="id_cargo" name="cargo" value="{{ personal.cargo }}" required>
                </div>
                <div class="col-md-6">
                    <label for="id_fecha_contratacion" class="form-label">Fecha de Contratación:</label>
                    <input type="date" class="form-control" id="id_fecha_contratacion" name="fecha_contratacion" value="{{ personal.fecha_contratacion|date:'Y-m-d' }}" required>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="id_salario_base" class="form-label">Salario Base:</label>
                    <input type="number" step="0.01" class="form-control" id="id_salario_base" name="salario_base" value="{{ personal.salario_base }}" required>
                </div>
                <div class="col-md-6">
                    <label for="id_telefono_contacto" class="form-label">Teléfono de Contacto:</label>
                    <input type="text" class="form-control" id="id_telefono_contacto" name="telefono_contacto" value="{{ personal.telefono_contacto }}" required>
                </div>
            </div>
            <div class="mb-3">
                <label for="id_imagen" class="form-label">Imagen Actual:</label><br>
                {% if personal.imagen %}
                <img src="{{ personal.imagen.url }}" alt="{{ personal.nombre }}" class="img-thumbnail mb-2" width="100">
                {% else %}
                <p>No hay imagen actual.</p>
                {% endif %}
                <input type="file" class="form-control" id="id_imagen" name="imagen" accept="image/*">
                <small class="form-text text-muted">Deja en blanco para mantener la imagen actual.</small>
            </div>
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary mt-3"><i class="fas fa-save me-2"></i>Guardar Cambios</button>
                <a href="{% url 'ver_personal' %}" class="btn btn-secondary mt-2"><i class="fas fa-arrow-left me-2"></i>Cancelar y Volver</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}